---

# ‚öñÔ∏è AI Legal Assistant (RAG System on Russian Labor Code)

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –ø–æ –¢—Ä—É–¥–æ–≤–æ–º—É –ö–æ–¥–µ–∫—Å—É –†–§. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **RAG (Retrieval Augmented Generation)** –¥–ª—è –ø–æ–∏—Å–∫–∞ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏ —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏ –∑–∞–∫–æ–Ω–∞, –∏—Å–∫–ª—é—á–∞—è ¬´–≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏¬ª –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é **–ª–æ–∫–∞–ª—å–Ω–æ (On-premise)**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è 100% –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

<img src="assets/demo_screenshot.png" width="700" alt="–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞">
## üöÄ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* **üîí Privacy First:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (LLM, –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î, API) —Ä–∞–±–æ—Ç–∞—é—Ç –≤–Ω—É—Ç—Ä–∏ –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞. –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ OpenAI –∏–ª–∏ –¥—Ä—É–≥–∏–µ –æ–±–ª–∞–∫–∞.
* **üìö Grounding & Citations:** –ë–æ—Ç –Ω–µ –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç –∑–∞–∫–æ–Ω—ã. –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –¢–ö –†–§ (—Å–º. —Å–∫—Ä–∏–Ω—à–æ—Ç).
* **üèó Microservice Architecture:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã (Backend, Frontend, Inference), —É–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–µ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.
* **üß† Hybrid Context:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞: –æ—á–∏—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ + –ø–æ–ª–Ω—ã–π —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞.

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **LLM Inference:** [Ollama](https://ollama.com/) (Model: `gemma3` / `gemma3:4b` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏).
* **Vector Database:** [ChromaDB](https://www.trychroma.com/) (Persistent storage).
* **Embeddings:** `sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2`.
* **Backend:** FastAPI (Async REST API).
* **Frontend:** Streamlit.
* **ETL & Parsing:** Python-docx, LangChain (RecursiveCharacterTextSplitter).
* **DevOps:** Docker, Docker Compose.

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —Å–ª–µ–¥—É—é—â–∏–π –ø—É—Ç—å:

1. **Ingestion:** –ü–∞—Ä—Å–∏–Ω–≥ `.docx` —Ñ–∞–π–ª–æ–≤ –¢–ö –†–§  –û—á–∏—Å—Ç–∫–∞  –ß–∞–Ω–∫–∏–Ω–≥ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–ù–æ–º–µ—Ä —Å—Ç–∞—Ç—å–∏, –†–∞–∑–¥–µ–ª).
2. **Indexing:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ ChromaDB.
3. **Retrieval:** –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ–ø-3 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å—Ç–∞—Ç—å–∏ –ø–æ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–º—É —Å—Ö–æ–¥—Å—Ç–≤—É.
4. **Generation:** –ù–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç + –í–æ–ø—Ä–æ—Å –ø–æ–¥–∞—é—Ç—Å—è –≤ LLM (Gemma 3) —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–π —Ñ–∞–Ω—Ç–∞–∑–∏—é –º–æ–¥–µ–ª–∏.

## ‚ö° –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω. –í–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π **Docker** –∏ **Docker Compose**.

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/–í–ê–®_–Æ–ó–ï–†–ù–ï–ô–ú/labor-code-rag.git
cd labor-code-rag

```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
docker-compose up -d

```

*Docker —Å–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç 3 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `ollama`, `backend`, `frontend`.*

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ (–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)

–í–∞–º –Ω—É–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –≤–µ—Å–∞ –º–æ–¥–µ–ª–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑):

```bash
# –î–ª—è –º–æ—â–Ω—ã—Ö –ü–ö (—Ç—Ä–µ–±—É–µ—Ç—Å—è ~6GB RAM)
docker exec -it ragsystem-ollama-1 ollama run gemma3:4b

# –ò–õ–ò –¥–ª—è —Å–ª–∞–±—ã—Ö –ü–ö (—Ç—Ä–µ–±—É–µ—Ç—Å—è ~2GB RAM)
docker exec -it ragsystem-ollama-1 ollama run gemma2:2b

```

*(–ï—Å–ª–∏ –≤—ã –≤—ã–±—Ä–∞–ª–∏ –≤–µ—Ä—Å–∏—é 4b, –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ–º–µ–Ω—è—Ç—å `MODEL_NAME` –≤ `rag_generation.py` –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)*

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8501**

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
‚îú‚îÄ‚îÄ ETL/                 # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–ø–∞—Ä—Å–∏–Ω–≥, —á–∞–Ω–∫–∏–Ω–≥)
‚îú‚îÄ‚îÄ assets/              # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è README
‚îú‚îÄ‚îÄ chroma_db_data/      # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è git)
‚îú‚îÄ‚îÄ api.py               # FastAPI Backend
‚îú‚îÄ‚îÄ ui.py                # Streamlit Frontend
‚îú‚îÄ‚îÄ rag_generation.py    # –õ–æ–≥–∏–∫–∞ RAG –∏ —Ä–∞–±–æ—Ç–∞ —Å Ollama
‚îú‚îÄ‚îÄ vector_store.py      # –°–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
‚îú‚îÄ‚îÄ docker-compose.yml   # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ Dockerfile.api       # –°–±–æ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞
‚îú‚îÄ‚îÄ Dockerfile.ui        # –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îî‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python

```

## üîß –û–ø—ã—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ Challenges

–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å –ø—Ä–æ–±–ª–µ–º–æ–π **OOM (Out Of Memory)** –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–¥–µ–ª—å `gemma3:27b` –≤–Ω—É—Ç—Ä–∏ Docker. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–ª —Å –∫–æ–¥–æ–º 137.
**–†–µ—à–µ–Ω–∏–µ:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—É—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –º–æ–¥–µ–ª—å `gemma3` (4b) –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –ø–∞–º—è—Ç–∏, —á—Ç–æ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª–æ —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏ –±–µ–∑ GPU.

---

**Author:** Mikegix


